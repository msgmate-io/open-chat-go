import{C as ne,r as _,d as Tt}from"./chunk-DZN0tiZI.js";var ut={exports:{}},lt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pt;function re(){if(Pt)return lt;Pt=1;var t=ne();function e(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,u=t.useEffect,s=t.useLayoutEffect,i=t.useDebugValue;function h(a,l){var f=l(),y=r({inst:{value:f,getSnapshot:l}}),d=y[0].inst,U=y[1];return s(function(){d.value=f,d.getSnapshot=l,R(d)&&U({inst:d})},[a,f,l]),u(function(){return R(d)&&U({inst:d}),a(function(){R(d)&&U({inst:d})})},[a]),i(f),f}function R(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!n(a,f)}catch{return!0}}function C(a,l){return l()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C:h;return lt.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,lt}var qt;function se(){return qt||(qt=1,ut.exports=re()),ut.exports}var oe=se();const kt=0,zt=1,Bt=2,Mt=3;var Ut=Object.prototype.hasOwnProperty;function St(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&St(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Ut.call(t,n)&&++r&&!Ut.call(e,n)||!(n in e)||!St(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const W=new WeakMap,q=()=>{},T=q(),mt=Object,c=t=>t===T,x=t=>typeof t=="function",M=(t,e)=>({...t,...e}),Gt=t=>x(t.then),ft={},st={},yt="undefined",Z=typeof window!=yt,vt=typeof document!=yt,ie=Z&&"Deno"in window,ae=()=>Z&&typeof window.requestAnimationFrame!=yt,Jt=(t,e)=>{const n=W.get(t);return[()=>!c(e)&&t.get(e)||ft,r=>{if(!c(e)){const u=t.get(e);e in st||(st[e]=u),n[5](e,M(u,r),u||ft)}},n[6],()=>!c(e)&&e in st?st[e]:!c(e)&&t.get(e)||ft]};let wt=!0;const ce=()=>wt,[gt,Ot]=Z&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[q,q],ue=()=>{const t=vt&&document.visibilityState;return c(t)||t!=="hidden"},le=t=>(vt&&document.addEventListener("visibilitychange",t),gt("focus",t),()=>{vt&&document.removeEventListener("visibilitychange",t),Ot("focus",t)}),fe=t=>{const e=()=>{wt=!0,t()},n=()=>{wt=!1};return gt("online",e),gt("offline",n),()=>{Ot("online",e),Ot("offline",n)}},de={isOnline:ce,isVisible:ue},Ee={initFocus:le,initReconnect:fe},jt=!Tt.useId,Q=!Z||ie,pe=t=>ae()?window.requestAnimationFrame(t):setTimeout(t,1),dt=Q?_.useEffect:_.useLayoutEffect,Et=typeof navigator<"u"&&navigator.connection,Ht=!Q&&Et&&(["slow-2g","2g"].includes(Et.effectiveType)||Et.saveData),ot=new WeakMap,pt=(t,e)=>mt.prototype.toString.call(t)===`[object ${e}]`;let he=0;const _t=t=>{const e=typeof t,n=pt(t,"Date"),r=pt(t,"RegExp"),u=pt(t,"Object");let s,i;if(mt(t)===t&&!n&&!r){if(s=ot.get(t),s)return s;if(s=++he+"~",ot.set(t,s),Array.isArray(t)){for(s="@",i=0;i<t.length;i++)s+=_t(t[i])+",";ot.set(t,s)}if(u){s="#";const h=mt.keys(t).sort();for(;!c(i=h.pop());)c(t[i])||(s+=i+":"+_t(t[i])+",");ot.set(t,s)}}else s=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},Ct=t=>{if(x(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?_t(t):"",[t,e]};let Re=0;const Dt=()=>++Re;async function Kt(...t){const[e,n,r,u]=t,s=M({populateCache:!0,throwOnError:!0},typeof u=="boolean"?{revalidate:u}:u||{});let i=s.populateCache;const h=s.rollbackOnError;let R=s.optimisticData;const C=l=>typeof h=="function"?h(l):h!==!1,v=s.throwOnError;if(x(n)){const l=n,f=[],y=e.keys();for(const d of y)!/^\$(inf|sub)\$/.test(d)&&l(e.get(d)._k)&&f.push(d);return Promise.all(f.map(a))}return a(n);async function a(l){const[f]=Ct(l);if(!f)return;const[y,d]=Jt(e,f),[U,o,tt,Y]=W.get(e),P=()=>{const L=U[f];return(x(s.revalidate)?s.revalidate(y().data,l):s.revalidate!==!1)&&(delete tt[f],delete Y[f],L&&L[0])?L[0](Bt).then(()=>y().data):y().data};if(t.length<3)return P();let g=r,I;const $=Dt();o[f]=[$,0];const m=!c(R),k=y(),b=k.data,z=k._c,j=c(z)?b:z;if(m&&(R=x(R)?R(j,b):R,d({data:R,_c:j})),x(g))try{g=g(j)}catch(L){I=L}if(g&&Gt(g))if(g=await g.catch(L=>{I=L}),$!==o[f][0]){if(I)throw I;return g}else I&&m&&C(I)&&(i=!0,d({data:j,_c:T}));if(i&&!I)if(x(i)){const L=i(g,j);d({data:L,error:T,_c:T})}else d({data:g,error:T,_c:T});if(o[f][1]=Dt(),Promise.resolve(P()).then(()=>{d({_c:T})}),I){if(v)throw I;return}return g}}const $t=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Se=(t,e)=>{if(!W.has(t)){const n=M(Ee,e),r={},u=Kt.bind(T,t);let s=q;const i={},h=(v,a)=>{const l=i[v]||[];return i[v]=l,l.push(a),()=>l.splice(l.indexOf(a),1)},R=(v,a,l)=>{t.set(v,a);const f=i[v];if(f)for(const y of f)y(a,l)},C=()=>{if(!W.has(t)&&(W.set(t,[r,{},{},{},u,R,h]),!Q)){const v=n.initFocus(setTimeout.bind(T,$t.bind(T,r,kt))),a=n.initReconnect(setTimeout.bind(T,$t.bind(T,r,zt)));s=()=>{v&&v(),a&&a(),W.delete(t)}}};return C(),[t,u,C,s]}return[t,W.get(t)[4]]},me=(t,e,n,r,u)=>{const s=n.errorRetryCount,i=u.retryCount,h=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!c(s)&&i>s||setTimeout(r,h,u)},ve=St,[Yt,we]=Se(new Map),ge=M({onLoadingSlow:q,onSuccess:q,onError:q,onErrorRetry:me,onDiscarded:q,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ht?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ht?5e3:3e3,compare:ve,isPaused:()=>!1,cache:Yt,mutate:we,fallback:{}},de),Oe=(t,e)=>{const n=M(t,e);if(e){const{use:r,fallback:u}=t,{use:s,fallback:i}=e;r&&s&&(n.use=r.concat(s)),u&&i&&(n.fallback=M(u,i))}return n},_e=_.createContext({}),De="$inf$",Xt=Z&&window.__SWR_DEVTOOLS_USE__,Te=Xt?window.__SWR_DEVTOOLS_USE__:[],ye=()=>{Xt&&(window.__SWR_DEVTOOLS_REACT__=Tt)},Ce=t=>x(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Ie=()=>M(ge,_.useContext(_e)),Ae=t=>(e,n,r)=>t(e,n&&((...s)=>{const[i]=Ct(e),[,,,h]=W.get(Yt);if(i.startsWith(De))return n(...s);const R=h[i];return c(R)?n(...s):(delete h[i],R)}),r),Le=Te.concat(Ae),be=t=>function(...n){const r=Ie(),[u,s,i]=Ce(n),h=Oe(r,i);let R=t;const{use:C}=h,v=(C||[]).concat(Le);for(let a=v.length;a--;)R=v[a](R);return R(u,s||h.fetcher||null,h)},Ve=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const u=r.indexOf(n);u>=0&&(r[u]=r[r.length-1],r.pop())}};ye();const ht=Tt.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),Rt={dedupe:!0},xe=(t,e,n)=>{const{cache:r,compare:u,suspense:s,fallbackData:i,revalidateOnMount:h,revalidateIfStale:R,refreshInterval:C,refreshWhenHidden:v,refreshWhenOffline:a,keepPreviousData:l}=n,[f,y,d,U]=W.get(r),[o,tt]=Ct(t),Y=_.useRef(!1),P=_.useRef(!1),g=_.useRef(o),I=_.useRef(e),$=_.useRef(n),m=()=>$.current,k=()=>m().isVisible()&&m().isOnline(),[b,z,j,L]=Jt(r,o),B=_.useRef({}).current,et=c(i)?c(n.fallback)?T:n.fallback[o]:i,It=(E,p)=>{for(const O in B){const S=O;if(S==="data"){if(!u(E[S],p[S])&&(!c(E[S])||!u(rt,p[S])))return!1}else if(p[S]!==E[S])return!1}return!0},At=_.useMemo(()=>{const E=!o||!e?!1:c(h)?m().isPaused()||s?!1:R!==!1:h,p=D=>{const F=M(D);return delete F._k,E?{isValidating:!0,isLoading:!0,...F}:F},O=b(),S=L(),V=p(O),K=O===S?V:p(S);let w=V;return[()=>{const D=p(b());return It(D,w)?(w.data=D.data,w.isLoading=D.isLoading,w.isValidating=D.isValidating,w.error=D.error,w):(w=D,D)},()=>K]},[r,o]),G=oe.useSyncExternalStore(_.useCallback(E=>j(o,(p,O)=>{It(O,p)||E()}),[r,o]),At[0],At[1]),Lt=!Y.current,Qt=f[o]&&f[o].length>0,J=G.data,H=c(J)?et&&Gt(et)?ht(et):et:J,nt=G.error,it=_.useRef(H),rt=l?c(J)?c(it.current)?H:it.current:J:H,bt=Qt&&!c(nt)?!1:Lt&&!c(h)?h:m().isPaused()?!1:s?c(H)?!1:R:c(H)||R,Vt=!!(o&&e&&Lt&&bt),Zt=c(G.isValidating)?Vt:G.isValidating,te=c(G.isLoading)?Vt:G.isLoading,X=_.useCallback(async E=>{const p=I.current;if(!o||!p||P.current||m().isPaused())return!1;let O,S,V=!0;const K=E||{},w=!d[o]||!K.dedupe,D=()=>jt?!P.current&&o===g.current&&Y.current:o===g.current,F={isValidating:!1,isLoading:!1},Ft=()=>{z(F)},Nt=()=>{const A=d[o];A&&A[1]===S&&delete d[o]},Wt={isValidating:!0};c(b().data)&&(Wt.isLoading=!0);try{if(w&&(z(Wt),n.loadingTimeout&&c(b().data)&&setTimeout(()=>{V&&D()&&m().onLoadingSlow(o,n)},n.loadingTimeout),d[o]=[p(tt),Dt()]),[O,S]=d[o],O=await O,w&&setTimeout(Nt,n.dedupingInterval),!d[o]||d[o][1]!==S)return w&&D()&&m().onDiscarded(o),!1;F.error=T;const A=y[o];if(!c(A)&&(S<=A[0]||S<=A[1]||A[1]===0))return Ft(),w&&D()&&m().onDiscarded(o),!1;const N=b().data;F.data=u(N,O)?N:O,w&&D()&&m().onSuccess(O,o,n)}catch(A){Nt();const N=m(),{shouldRetryOnError:at}=N;N.isPaused()||(F.error=A,w&&D()&&(N.onError(A,o,N),(at===!0||x(at)&&at(A))&&(!m().revalidateOnFocus||!m().revalidateOnReconnect||k())&&N.onErrorRetry(A,o,N,ee=>{const ct=f[o];ct&&ct[0]&&ct[0](Mt,ee)},{retryCount:(K.retryCount||0)+1,dedupe:!0})))}return V=!1,Ft(),!0},[o,r]),xt=_.useCallback((...E)=>Kt(r,g.current,...E),[]);if(dt(()=>{I.current=e,$.current=n,c(J)||(it.current=J)}),dt(()=>{if(!o)return;const E=X.bind(T,Rt);let p=0;const S=Ve(o,f,(V,K={})=>{if(V==kt){const w=Date.now();m().revalidateOnFocus&&w>p&&k()&&(p=w+m().focusThrottleInterval,E())}else if(V==zt)m().revalidateOnReconnect&&k()&&E();else{if(V==Bt)return X();if(V==Mt)return X(K)}});return P.current=!1,g.current=o,Y.current=!0,z({_k:tt}),bt&&(c(H)||Q?E():pe(E)),()=>{P.current=!0,S()}},[o]),dt(()=>{let E;function p(){const S=x(C)?C(b().data):C;S&&E!==-1&&(E=setTimeout(O,S))}function O(){!b().error&&(v||m().isVisible())&&(a||m().isOnline())?X(Rt).then(p):p()}return p(),()=>{E&&(clearTimeout(E),E=-1)}},[C,v,a,o]),_.useDebugValue(rt),s&&c(H)&&o){if(!jt&&Q)throw new Error("Fallback data is required when using Suspense in SSR.");I.current=e,$.current=n,P.current=!1;const E=U[o];if(!c(E)){const p=xt(E);ht(p)}if(c(nt)){const p=X(Rt);c(rt)||(p.status="fulfilled",p.value=!0),ht(p)}else throw nt}return{mutate:xt,get data(){return B.data=!0,rt},get error(){return B.error=!0,nt},get isValidating(){return B.isValidating=!0,Zt},get isLoading(){return B.isLoading=!0,te}}},We=be(xe);export{we as m,We as u};
